"use strict";(self.webpackChunkchat=self.webpackChunkchat||[]).push([[306],{3867:function(e,n,t){var i=t(6015),r=t(4162),o=(t(2791),t(8433),t(4741)),a=t(184);n.Z=function(e){var n=e.menu,t=e.list;return(0,a.jsx)(i.Z,{p:3,children:(0,a.jsx)(r.Z,{spacing:3,children:null===t||void 0===t?void 0:t.map((function(e){switch(e.type){case"divider":return(0,a.jsx)(o.i6,{el:e});case"msg":switch(e.subtype){case"img":case"doc":return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{dangerouslySetInnerHTML:{__html:e.message}}),(0,a.jsx)("embed",{src:"data:application/pdf;base64,".concat(e.file)})]});case"link":return(0,a.jsx)(o.V5,{el:e,menu:n});case"reply":return(0,a.jsx)(o.Q8,{el:e,menu:n});default:return(0,a.jsx)(o.w8,{el:e,menu:n})}break;default:return(0,a.jsx)(a.Fragment,{})}}))})})}},4741:function(e,n,t){t.d(n,{Q8:function(){return Z},V5:function(){return f},i6:function(){return m},w8:function(){return j}});var i=t(885),r=t(4162),o=t(6015),a=t(4565),s=t(6283),c=t(1872),l=t(5452),u=t(4020),d=t(4142),p=t(7863),x=t(2791),h=t(8433),g=t(184),f=function(e){var n=e.el,t=e.menu,i=(0,d.Z)();return(0,g.jsxs)(r.Z,{direction:"row",justifyContent:n.incoming?"start":"end",children:[(0,g.jsx)(o.Z,{p:1.5,sx:{backgroundColor:n.incoming?i.palette.background.default:i.palette.primary.main,borderRadius:1.5,width:"max-content"},children:(0,g.jsx)(r.Z,{spacing:2,children:(0,g.jsxs)(r.Z,{p:2,spacing:3,alignItems:"start",sx:{backgroundColor:i.palette.background.paper,borderRadius:1},children:[(0,g.jsx)("img",{src:n.preview,alt:n.message,style:{maxHeight:210,borderRadius:"10px"}}),(0,g.jsxs)(r.Z,{spacing:2,children:[(0,g.jsx)(a.Z,{variant:"subtitle2",children:"Creating Chat App"}),(0,g.jsx)(a.Z,{variant:"subtitle2",sx:{color:i.palette.primary.main},component:s.Z,to:"//https://www.youtube.com",children:"www.youtube.com"})]}),(0,g.jsx)(a.Z,{variant:"body2",color:n.incoming?i.palette.text:"#fff",children:n.message})]})})}),t&&(0,g.jsx)(b,{})]})},Z=function(e){var n=e.el,t=e.menu,i=(0,d.Z)();return(0,g.jsxs)(r.Z,{direction:"row",justifyContent:n.incoming?"start":"end",children:[(0,g.jsx)(o.Z,{p:1.5,sx:{backgroundColor:n.incoming?i.palette.background.default:i.palette.primary.main,borderRadius:1.5,width:"max-content"},children:(0,g.jsxs)(r.Z,{spacing:2,children:[(0,g.jsx)(r.Z,{p:2,direction:"column",spacing:3,alignItems:"center",sx:{backgroundColor:i.palette.background.paper,borderRadius:1},children:(0,g.jsx)(a.Z,{variant:"body2",color:i.palette.text,children:n.message})}),(0,g.jsx)(a.Z,{variant:"body2",color:n.incoming?i.palette.text:"#fff",children:n.reply})]})}),t&&(0,g.jsx)(b,{})]})},j=function(e){var n=e.el,t=e.menu,i=(0,d.Z)();return(0,g.jsxs)(r.Z,{direction:"row",justifyContent:n.incoming?"start":"end",children:[(0,g.jsx)(o.Z,{p:1.5,sx:{backgroundColor:n.incoming?i.palette.background.default:i.palette.primary.main,borderRadius:1.5,width:"max-content"},children:(0,g.jsx)(a.Z,{variant:"body2",color:n.incoming?i.palette.text:"#fff",children:n.message})}),t&&(0,g.jsx)(b,{})]})},m=function(e){var n=e.el,t=(0,d.Z)();return(0,g.jsxs)(r.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,g.jsx)(c.Z,{width:"46%"}),(0,g.jsx)(a.Z,{variant:"caption",sx:{color:t.palette.text},children:n.text}),(0,g.jsx)(c.Z,{width:"46%"})]})},b=function(){var e=x.useState(null),n=(0,i.Z)(e,2),t=n[0],o=n[1],a=Boolean(t),s=function(e){o(e.currentTarget)};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(p.Z,{id:"basic-button","aria-controls":a?"basic-menu":void 0,"aria-haspopup":"true","aria-expanded":a?"true":void 0,onClick:s,size:20}),(0,g.jsx)(l.Z,{id:"basic-menu",anchorEl:t,open:a,onClose:function(){o(null)},MenuListProps:{"aria-labelledby":"basic-button"},children:(0,g.jsx)(r.Z,{spacing:1,px:1,children:h.GF.map((function(e){return(0,g.jsx)(u.Z,{onClick:s,children:e.title})}))})})]})}},9306:function(e,n,t){t.d(n,{Z:function(){return Q}});var i=t(4165),r=t(2982),o=t(5861),a=t(885),s=t(4162),c=t(6015),l=t(2791),u=t(4142),d=t(3978),p=t(4565),x=t(3811),h=t(1872),g=t(9165),f=t(4059),Z=t(703),j=t(9865),m=t(155),b=t(5670),v=t(6026),w=t(9434),y=t(382),k=t(9556),C=t(184),S=function(){var e=(0,w.I0)(),n=(0,u.Z)(),t=(0,y.Fp)(),i=t.instance,r=t.accounts,o=(0,l.useState)(null),S=(0,a.Z)(o,2),I=S[0],F=S[1],P=(0,l.useState)(null),R=(0,a.Z)(P,2),z=R[0],T=R[1];return(0,l.useEffect)((function(){r.length>0&&i.acquireTokenSilent({scopes:["User.Read"],account:r[0]}).then((function(e){var n,t=(n=e.accessToken,k.KU.init({authProvider:function(e){e(null,n)}}));t.api("/me").get().then((function(e){F(e)})),t.api("/me/photo/$value").responseType("blob").get().then((function(e){var n=URL.createObjectURL(e);T(n)}))})).catch((function(e){console.error(e)}))}),[i,r]),(0,C.jsx)(c.Z,{p:2,sx:{width:"100%",backgroundColor:"light"===n.palette.mode?"#F8FAFF":n.palette.background.paper,boxShadow:"0px 0px 2px rgba(0,0,0,0.25)"},children:(0,C.jsxs)(s.Z,{alignItems:"center",direction:"row",justifyContent:"space-between",sx:{width:"100%",height:"100%"},children:[(0,C.jsxs)(s.Z,{onClick:function(){e((0,v.Xk)())},direction:"row",spacing:2,children:[(0,C.jsx)(c.Z,{children:(0,C.jsx)(b.Z,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot",children:(0,C.jsx)(d.Z,{alt:m.We.name.fullName(),src:z})})}),(0,C.jsxs)(s.Z,{spacing:.2,children:[(0,C.jsx)(p.Z,{variant:"subtitle2",children:null===I||void 0===I?void 0:I.displayName}),(0,C.jsx)(p.Z,{variant:"caption",children:"Online"})]})]}),(0,C.jsxs)(s.Z,{direction:"row",alignItems:"center",spacing:3,children:[(0,C.jsx)(x.Z,{children:(0,C.jsx)(g.Z,{})}),(0,C.jsx)(x.Z,{children:(0,C.jsx)(f.Z,{})}),(0,C.jsx)(x.Z,{children:(0,C.jsx)(Z.Z,{})}),(0,C.jsx)(h.Z,{orientation:"vertical",flexItem:!0}),(0,C.jsx)(x.Z,{children:(0,C.jsx)(j.Z,{})})]})]})})},I=t(5533),F=t(5814),P=t(5590),R=t(8254),z=t(277),T=t(6526),H=t(6206),O=t(2413),A=t(5432),E=t(9134),L=t(5355),U=t(9585),B=t(4306),M=(t(4122),t(6564)),N=(0,z.ZP)(I.Z)((function(e){e.theme;return{"& .MuiInputBase-input":{paddingTop:"12px",paddingBottom:"12px"}}})),_=[{color:"#4da5fe",icon:(0,C.jsx)(T.Z,{size:24}),y:102,title:"Photo/Video"},{color:"#1b8cfe",icon:(0,C.jsx)(H.Z,{size:24}),y:172,title:"Stickers"},{color:"#0172e4",icon:(0,C.jsx)(O.Z,{size:24}),y:242,title:"Image"},{color:"#0159b2",icon:(0,C.jsx)(A.Z,{size:24}),y:312,title:"Document"},{color:"#013f7f",icon:(0,C.jsx)(E.Z,{size:24}),y:382,title:"Contact"}],V=function(e){var n=e.setOpenPicker,t=e.onChange,i=e.value,r=(0,l.useState)(!1),o=(0,a.Z)(r,2),c=o[0],u=o[1];return(0,C.jsx)(N,{value:i,onChange:function(e){t(e.target.value)},fullWidth:!0,placeholder:"Write a message...",variant:"filled",InputProps:{disableUnderline:!0,startAdornment:(0,C.jsxs)(s.Z,{sx:{width:"max-content"},children:[(0,C.jsx)(s.Z,{sx:{position:"relative",display:c?"inline-block":"none"},children:_.map((function(e){return(0,C.jsx)(F.Z,{placement:"right",title:e.title,children:(0,C.jsx)(P.Z,{sx:{position:"absolute",top:-e.y,backgroundColor:e.color},children:e.icon})})}))}),(0,C.jsx)(R.Z,{children:(0,C.jsx)(x.Z,{onClick:function(){u((function(e){return!e}))},children:(0,C.jsx)(L.Z,{})})})]}),endAdornment:(0,C.jsx)(R.Z,{children:(0,C.jsx)(x.Z,{onClick:function(){n((function(e){return!e}))},children:(0,C.jsx)(U.Z,{})})})}})},W=function(e){var n=e.onPress,t=e.loading,i=(0,u.Z)(),r=(0,l.useState)(!1),o=(0,a.Z)(r,2),d=(o[0],o[1]),p=(0,l.useState)(""),h=(0,a.Z)(p,2),g=h[0],f=h[1],Z=(0,l.useState)(""),j=(0,a.Z)(Z,2),m=j[0],b=j[1];return(0,C.jsx)(c.Z,{p:2,sx:{width:"100%",backgroundColor:"light"===i.palette.mode?"#F8FAFF":i.palette.background.paper,boxShadow:"0px 0px 2px rgba(0,0,0,0.25)"},children:(0,C.jsxs)(s.Z,{direction:"row",alignItems:"center",spacing:3,children:[(0,C.jsx)(s.Z,{sx:{width:"100%"},children:(0,C.jsx)(V,{setOpenPicker:d,onChange:function(e){f(e),b(e)},value:m})}),(0,C.jsx)(c.Z,{sx:{height:48,width:48,backgroundColor:i.palette.primary.main,borderRadius:1.5},children:(0,C.jsx)(s.Z,{sx:{height:"100%",width:"100%",alignItems:"center",justifyContent:"center"},children:(0,C.jsx)(x.Z,{onClick:function(){b(""),n(g)},children:t?(0,C.jsx)(M.Z,{color:"#fff",size:24}):(0,C.jsx)(B.Z,{color:"#fff"})})})})]})})},G=t(3867),Q=function(){(0,u.Z)();var e=(0,l.useState)(!1),n=(0,a.Z)(e,2),t=n[0],d=n[1],p=(0,l.useState)([{type:"msg",message:"Hi \ud83d\udc4b\ud83c\udffb, How are ya ?",incoming:!0,outgoing:!1,file:""}]),x=(0,a.Z)(p,2),h=x[0],g=x[1],f=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(n){var t,o,a,s,c,l,u;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.prev=1,(a=new Headers).append("Content-Type","application/json"),s=JSON.stringify({prompt:"I want know about Project 8347 Alfa Laval \u2013 CCH-32"}),c={method:"POST",headers:a,body:s,redirect:"follow"},e.next=8,fetch("http://127.0.0.1:8000/api/prompt",c);case 8:if((l=e.sent).ok){e.next=11;break}throw new Error("Error: ".concat(l.status));case 11:return e.next=13,l.json();case 13:u=e.sent,console.log(null===u||void 0===u||null===(t=u.response)||void 0===t||null===(o=t.file)||void 0===o?void 0:o.base64_data),g((function(e){var n,t,i;return[].concat((0,r.Z)(e),[{type:"msg",message:null===u||void 0===u||null===(n=u.response)||void 0===n?void 0:n.content,incoming:!0,outgoing:!1,subtype:"doc",file:null===u||void 0===u||null===(t=u.response)||void 0===t||null===(i=t.file)||void 0===i?void 0:i.base64_data}])})),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(1),console.error("Error fetching data:",e.t0);case 21:d(!1);case 22:case"end":return e.stop()}}),e,null,[[1,18]])})));return function(n){return e.apply(this,arguments)}}();return(0,C.jsxs)(s.Z,{height:"100%",maxHeight:"100vh",width:"auto",children:[(0,C.jsx)(S,{}),(0,C.jsx)(c.Z,{className:"scrollbar",width:"100%",sx:{flexGrow:1,height:"100%",overflowY:"scroll"},children:(0,C.jsx)(G.Z,{menu:!1,list:h})}),(0,C.jsx)(W,{onPress:function(e){g((function(n){return[].concat((0,r.Z)(n),[{type:"msg",message:e,incoming:!1,outgoing:!0}])})),f(e)},loading:t})]})}},5670:function(e,n,t){var i=t(225),r=t(294),o=(0,i.Z)(r.Z)((function(e){var n=e.theme;return{"& .MuiBadge-badge":{backgroundColor:"#44b700",color:"#44b700",boxShadow:"0 0 0 2px ".concat(n.palette.background.paper),"&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",animation:"ripple 1.2s infinite ease-in-out",border:"1px solid currentColor",content:'""'}},"@keyframes ripple":{"0%":{transform:"scale(.8)",opacity:1},"100%":{transform:"scale(2.4)",opacity:0}}}}));n.Z=o}}]);
//# sourceMappingURL=306.baf7cedf.chunk.js.map